@model DAL.Item
@using DAL
@{
    ViewBag.Title = ViewBag.PageName;
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<div class="right_col" role="main">
    <div class="row">
        <div class="page-title">
            <div class="title_left">
                <h3>@ViewBag.PageName </h3>
            </div>

        </div>
        <div class="clearfix"></div>
        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                    <div class="x_title">
                        <h2>Item<small> Form</small></h2>
                        <ul class="nav navbar-right panel_toolbox">
                            <li>
                                <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                            </li>
                        </ul>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <br />
                        <form id="demo-form2" data-parsley-validate class="form-horizontal form-label-left" action="@Url.Action("AddItem","Item")" method="post">
                            <div class="form-group">
                                <input type="hidden" id="Id" name="Id" value="@Model.Id" />
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="item-name">
                                    Item Name <span class="required">*</span>
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <input type="text" id="item-name" required="required" name="SKUName" class="form-control col-md-7 col-xs-12" value="@Model.SKUName">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="sku-code">
                                    Item Code <span class="required">*</span>
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <input type="text" id="sku-code" required="required" name="SKUCode" class="form-control col-md-7 col-xs-12" value="@Model.SKUCode">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="packing-description">
                                    Packing Description <span class="required">*</span>
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <input type="text" id="packing-description" required="required" name="PackingDescription" class="form-control col-md-7 col-xs-12" value="@Model.PackingDescription">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="packing-description">
                                    Minimum Order <span class="required">*</span>
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <input type="number" id="packing-description" required="required" name="MinimumOrder" class="form-control col-md-7 col-xs-12" value="@Model.MinimumOrder">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="max-order">
                                    Maximum Order <span class="required"></span>
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <input type="number" id="max-order" required="required" name="MaximumOrderLimit" class="form-control col-md-7 col-xs-12" value="@Model.MaximumOrderLimit">
                                    <span id="" class="small">leave blank for no limit</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="Case-Conversion">
                                    Case Conversion
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <input type="text" id="Case-Conversion" name="CaseConversion" class="form-control col-md-7 col-xs-12" value="@Model.CaseConversion">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="TotalWeightPerCase">
                                    Total Weight Per Case <span class="required">*</span>
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <input type="text" id="TotalWeightPerCase" required="required" name="TotalWeightPerCase" class="form-control col-md-7 col-xs-12" value="@Model.TotalWeightPerCase">
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="UOMmaster.Id">
                                    UOM <span class="required">*</span>
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    @(Html.DropDownList("UOMmaster.Id", new SelectList(ViewBag.UOMList, "Id", "UOMMaster", Model.UOMmaster != null ? Model.UOMmaster.Id : 0), "--Choose UOM---", new { @class = "form-control col-md-7 col-xs-12", required = "required" }))
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="Category.Id">
                                    Category Type<span class="required">*</span>
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    @(Html.DropDownList("ItemCategoryType.Id", new SelectList(ViewBag.ItemCategoryType, "Id", "Name", Model.ItemCategoryType != null ? Model.ItemCategoryType.Id : 0), "--Choose Category types---", new { @class = "form-control col-md-7 col-xs-12", required = "required" }))
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="Category.Id">
                                    Category <span class="required">*</span>
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    @(Html.DropDownList("Category.Id", new SelectList(ViewBag.Categories, "Id", "CategoryDescription", Model.Category != null ? Model.Category.Id : 0), "--Choose Categories---", new { @class = "form-control col-md-7 col-xs-12", required = "required" }))
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="TotalWeightPerCase">
                                    Sub Categories <span class="required">*</span>
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    @(Html.DropDownList("SubCategory.Id", new SelectList(ViewBag.SubCategories, "Id", "Name", Model.SubCategory != null ? Model.SubCategory.Id : 0), "--Choose Categories---", new { @class = "form-control col-md-7 col-xs-12", required = "required" }))
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="TotalWeightPerCase">
                                    Brand<span class="required">*</span>
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    @(Html.DropDownList("BrandId", new SelectList(ViewBag.Brands, "Id", "BrandName", Model.BrandId), "--Choose Brands---", new { @class = "form-control col-md-7 col-xs-12", required = "required" }))
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="Customers">
                                    Customers <span class="required">*</span>
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    @Html.ListBoxFor(m => m.SelectedCustomers, new MultiSelectList(ViewBag.CustomerList, "Id", "Name", Model.SelectedCustomers), new { @class = "form-control col-md-7 col-xs-12", required = "required", id = "drpCustomers" })
                                    @*@Html.ListBox("SelectedCustomers", new MultiSelectList(ViewBag.CustomerList, "Id", "Name",Model.Customers!=null?Model.Customers.Select(x=>x.Id):null), new { @class = "form-control col-md-7 col-xs-12", required = "required" })*@
                                    @*<select name="SelectedCustomers" class="form-control col-md-7 col-xs-12" required="required" multiple>
            @if (Model.Id > 0)
            {
                if (ViewBag.CustomerList != null)
                {
                    foreach (Customer cus in ViewBag.CustomerList)
                    {
                        var cus1 = new Customer();
                        foreach (Customer cu in Model.Customers)
                        {
                            if (cu.Id == cus.Id)
                            {
                                <option value="@cus.Id" selected>@cus.Name</option>
                                cus1 = cu;

                            }

                        }
                        bool a = Model.Customers.Remove(cus1);
                        if (!a)
                        {
                            <option value="@cus.Id">@cus.Name</option>

                        }
                    }
                }
            }
            else
            {
                if (ViewBag.CustomerList != null)
                {
                    foreach (Customer cus in ViewBag.CustomerList)
                    {
                        <option value="@cus.Id">@cus.Name</option>
                    }
                }
            }

        </select>*@
                                </div>
                            </div>
                            <div class="ln_solid"></div>
                            <div class="form-group">
                                <div class="col-md-6 col-sm-6 col-xs-12 col-md-offset-3">
                                    <button class="btn btn-primary" type="reset">Reset</button>
                                    <button type="submit" class="btn btn-success">Submit</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>

    $(document).ready(function () {


        $('#drpCustomers').multiselect({
            includeSelectAllOption: true,
            buttonWidth: "100%",
            enableFiltering: true
        });

    });
</script>
